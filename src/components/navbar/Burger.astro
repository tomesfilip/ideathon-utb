<button
  id="hamburger-btn"
  type="button"
  class="outline-none appearance-non cursor-pointer lg:hidden relative right-0 size-8 space-y-[5px]"
  aria-label="Otevřít menu nabídku"
>
  <div class="line1"></div>
  <div class="line2"></div>
  <div class="line3"></div>
</button>

<style>
  .line1,
  .line2,
  .line3 {
    background: black;
    content: '';
    display: block;
    height: 4px;
    border-radius: 3px;
    transition: 0.5s;
  }

  .active .line1 {
    transform: translateY(9px) rotate(135deg);
    margin: 0;
  }

  .active .line3 {
    transform: translateY(-4px) rotate(-135deg);
    margin: 0;
  }

  .active .line2 {
    transform: scale(0);
  }
</style>

<script>
  const hamburgerBtn = document.querySelector('#hamburger-btn');
  const menuOpen = document.querySelector('#nav-item-list');
  const media = window.matchMedia('(width < 1024px)');

  const handleToggleMenu = () => {
    if (media.matches) {
      hamburgerBtn?.toggleAttribute('aria-expanded');
      hamburgerBtn?.classList.toggle('active');
      menuOpen?.classList.toggle('isNavOpen');
    }
  };

  hamburgerBtn?.addEventListener('click', handleToggleMenu);

  media.addEventListener('change', () => {
    if (
      !media.matches &&
      (menuOpen?.classList.contains('isNavOpen') ||
        hamburgerBtn?.classList.contains('active'))
    ) {
      menuOpen?.classList.remove('isNavOpen');
      hamburgerBtn?.classList.remove('active');
    }
  });
</script>
